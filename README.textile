Dependencies
============

A port of Merb's dependency system to a Rails plugin.

Usage
=====

1. Install the plugin

2. Modify your config/environment.rb

uncomment or add/modify this line, so that the dependencies plugin is loaded before all others:

    config.plugins = [:dependencies, :all]

3. Add gems/* to your .gitignore

4. Create a config/dependencies.rb file that looks like:

    dependency 'gem'
    dependency 'gem', '1.0.1'
    dependency 'gem', :require_as => 'Gem'
    dependency 'gem', :only => %w(test staging)
    dependency 'gem', :except => 'production'

5. Remove or comment out any config.gem lines from config/environment.rb or config/environments/*.rb

6. Install the gems into your project and keep them up to date using:

        rake dependencies:sync

To Do List
==========

* What about gems that depend on rails to load?
* with_options should support rails-style compatibility, even if the shortened version is nicer

Rails style:

    with_options(:only => 'production') do |production|
      production.dependency 'fiveruns_manage'
      production.dependency 'slim-attributes'
    end

Short style:

    with_options(:only => 'production') do
      dependency 'fiveruns_manage'
      dependency 'slim-attributes'
    end

Ownership
=========

Copyright (c) 2009 David Dollar, released under the MIT license
Much of the Rubygems monkey-patching was lifted near-verbatim from Merb.